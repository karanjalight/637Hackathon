{% extends '_base.html' %}

{% block title %}Purchase{% endblock %}
{% block script %} <script src="https://js.stripe.com/v3/"></script> {% endblock script%} 


{% block content %}

  <div style="margin-top:5px; margin-left: 15px; height: 680px;" >
    <div  style="padding: 20px 20px;">
      <h2 class="title is-size-2" style="text-align: center">Purchase</h2>
      <hr><br>
      <!-- notifications -->
      <div class="notification-success-wrapper" style="display: none">
        <div class="notification is-success"></div><br>
      </div>
      <div class="notification-danger-wrapper" style="display: none">
        <div class="notification is-danger"></div><br>
      </div>
      <div class="card w-10 is-two-thirds" style="width:600px; text-align:center; border-radius:6px;">
        <div class="card-body">
          <br>
          <h3 class="card-title is-size-4" style="font-weight: bold;" >Confirm Purchase</h3>
          <div> 
           
            <hr/>
            <h4 style="font-weight: bold"> Product </h4>
            <p> {{ course.title }}
           
            <hr/> 
            <h4 style="font-weight: bold"> Price </h4>
            <p>$ {{ course.price }} </p>

            
            <hr/>
            <h4 style="font-weight: bold"> Description </h4>
            <p> {{ course.description }} </p>
              <hr/>
            <h4 style="font-weight: bold" > Complete Purchase</h4>
            <br>

            
<form
action="{% url 'create-checkout-session' course.id %}"
method="POST"
>
{% csrf_token %}
<button id="purchase-btn" class="button1 is-info" style="padding: 10px 35px; background-color:black; color: white; border-radius:6px">Pay ${{ course.price }} with Card</button>
</form>

            <br><br>
          </div>
          
         
          
        </div>
      </div>
      
    </div>
    <br>
    
  
  </div>

  
{% endblock %}

